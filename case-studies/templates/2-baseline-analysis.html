<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

    <!-- 
    /------------------------------------------------------------------------------------------------------\
    | LAST UPDATE: 2508052023â€¦Tue_Aug_05_2025_0823PM                                                       |
    | https://gemini.google.com/app/af75a740127d06f1                                                       |
    | https://github.com/JawnLam/ExitReadyAdvisors/edit/main/case-studies/templates/baseline-analysis.html |
    \------------------------------------------------------------------------------------------------------/
    -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseline Analysis: Johnson & Sons</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* gray-100 */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out forwards;
        }
        
        /* --- TAB STYLING --- */
        .tab-button {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            border-bottom: 3px solid transparent;
            border-radius: 0.375rem 0.375rem 0 0;
            font-weight: 600;
            /* font-size is now set by JavaScript */
            line-height: 1.2; /* Adjusted for flexible font sizes */
            padding: 0.75rem 0.25rem;
            margin: 0 2px;
            min-height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
            text-align: center;
        }

        .tab-button::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 0;
            background-color: #FEE2E2; /* Adapted from light green to light red */
            transition: height 0.3s ease;
            z-index: -1;
        }

        /* --- HOVER & ACTIVE STATES --- */
        .tab-button:not(.active):hover::after {
            height: 100%;
        }

        .tab-button:not(.active):hover {
            color: #DC2626; /* Adapted to red-600 */
            border-bottom-color: #EF4444; /* Adapted to red-500 */
        }

        .tab-button.active {
            background-color: #FEE2E2; /* Adapted to red-100 */
            color: #DC2626; /* Adapted to red-600 */
            border-bottom-color: #EF4444; /* Adapted to red-500 */
            box-shadow: 0 0 0 1px #FCA5A5; /* Adapted to red-300 */
        }

        .tab-button:not(.active) {
            color: #6B7280; /* Default gray text */
        }

        /* --- TAB CONTENT STYLING --- */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        /* Utility class for list styling */
        .detail-list li {
            padding-bottom: 0.75rem;
        }
        .detail-list li strong {
            display: block;
            color: #374151; /* gray-700 */
            font-weight: 600;
        }
        .detail-list li span {
            color: #4B5563; /* gray-600 */
        }

        /* Modal styling */
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }

        /* Accordion Styling */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        /* Card Flip Styling */
        .flip-card {
            perspective: 1000px;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        .flip-card-back {
            transform: rotateY(180deg);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 m-0 p-0">

    <!-- Header Placeholder -->
    <header id="header-placeholder"></header>

    <!-- Main Content -->
    <main id="page-baseline-analysis" class="max-w-7xl mx-auto pt-8" style="display: none;">

        <!-- Page Header Component -->
        <div class="grid grid-cols-1 md:grid-cols-2 bg-white rounded-xl overflow-hidden shadow-lg mb-8">
            <div class="md:order-2 p-8">
<!-- ============================ -->
<!-- (((((NAME OF CASE STUDY))))) -->
<!-- ============================ -->
                <h1 class="text-3xl lg:text-4xl font-bold text-gray-900 mt-1">Johnson & Sons - Heating, Plumbing, & Air</h1>
                <p class="text-gray-600 mt-4">
                    A comprehensive deep-dive into the pre-intervention state of Johnson & Sons. Use the tabs below to explore all aspects of the business analysis.
                </p>
            </div>
            <div class="md:order-1 flex items-center justify-center max-h-[300px] min-h-[200px] bg-red-50 border border-transparent rounded-lg">
                <img id="hero-image" src="./images/2.jpg" alt="Business analysis and due diligence report" class="object-cover w-full h-full max-h-[300px] rounded-lg" onerror="this.style.display='none'; document.getElementById('hero-fallback').style.display='flex'; this.parentElement.classList.add('border-red-300', 'p-4');">
                <div id="hero-fallback" class="hidden w-full h-full flex-col items-center justify-center text-left text-red-700">
                     <p class="text-sm leading-relaxed">This page is a comprehensive due diligence report providing a deep diagnostic analysis of the business opportunity. It evaluates core fundamentals, financial health, operational structure, market dynamics, and key value drivers, while explicitly identifying critical risk factors and growth potential. The report includes a formal valuation methodology assessment, outlines deal structure considerations, and profiles optimal buyer types to inform strategic acquisition decisions.</p>
                </div>
            </div>
        </div>
        
        <!-- Back/Next Navigation -->
        <div class="my-8 flex items-center">
            <a href="1-valuation-brief.html" class="inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-600 font-medium rounded-lg shadow-sm border border-blue-500 hover:bg-blue-200 transition whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Valuation Brief
            </a>
            <div class="flex-grow text-center px-4 py-2 mx-4 bg-red-50 text-red-700 font-medium rounded-lg shadow-sm border border-red-300 uppercase">
                Baseline Analysis
            </div>
            <a href="3-value-creation-strategy.html" class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-600 font-medium rounded-lg shadow-sm border border-yellow-500 hover:bg-yellow-200 transition whitespace-nowrap">
                Value Creation Strategy
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
            </a>
        </div>

        <!-- Tab Navigation -->
        <div class="mb-8 border-b border-gray-200">
            <nav class="-mb-px flex" aria-label="Tabs">
                <button class="tab-button active" data-tab="overview">Overview</button>
                <button class="tab-button" data-tab="business-fundamentals">Business<br>Fundamentals</button>
                <button class="tab-button" data-tab="financial-health">Financial<br>Health</button>
                <button class="tab-button" data-tab="operational-details">Operational<br>Details</button>
                <button class="tab-button" data-tab="market-dynamics">Market<br>Dynamics</button>
                <button class="tab-button" data-tab="value-drivers">Value<br>Drivers</button>
                <button class="tab-button" data-tab="deal-structure">Deal Structure<br>& Opportunities</button>
            </nav>
        </div>

        <!-- Tab Content -->
        <div class="mb-8">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <div class="bg-red-50 p-8 border-2 border-dashed border-red-300 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-red-800 mb-4">The Central Question for Analysis</h2>
                        <p class="text-red-700 text-lg font-medium">
                            Does Johnson & Sons' stellar reputation and formidable project backlog justify a premium valuation, or do the underlying risks of key-person dependency, technological stagnation, and deferred capital needs present a 'value trap' for a new owner?
                        </p>
                    </div>
                </div>
            </div>

            <!-- Business Fundamentals Tab -->
            <div id="business-fundamentals" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">The Story of Johnson & Sons</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        
                        <!-- Card 1: Core Identity -->
                        <div class="interactive-card bg-red-50 p-6 rounded-lg shadow-lg text-center cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all" data-modal="identity-modal">
                            <h3 class="text-xl font-bold text-red-800">Core Business Identity</h3>
                            <p class="text-red-700 mt-2">Who they are and what they do.</p>
                        </div>

                        <!-- Card 2: Structure -->
                        <div class="interactive-card bg-red-50 p-6 rounded-lg shadow-lg text-center cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all" data-modal="structure-modal">
                            <h3 class="text-xl font-bold text-red-800">Physical & Operational Structure</h3>
                            <p class="text-red-700 mt-2">Where they operate and how they're built.</p>
                        </div>

                        <!-- Card 3: Personal Story -->
                        <div class="interactive-card bg-red-50 p-6 rounded-lg shadow-lg text-center cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all" data-modal="story-modal">
                            <h3 class="text-xl font-bold text-red-800">Personal Story & Context</h3>
                            <p class="text-red-700 mt-2">The family legacy and reason for selling.</p>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Financial Health Tab -->
            <div id="financial-health" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Financial Health at a Glance</h2>
                    
                    <!-- Chart Section -->
                    <div class="mb-12">
                         <h3 class="text-xl font-bold text-gray-700 mb-4 text-center">Core Metrics & 3-Year Trend</h3>
                         <p class="text-sm text-center text-gray-600 mb-6 max-w-2xl mx-auto">Revenue and profitability dipped in the TTM after a strong 2023, attributed to project completions and market slowdowns.</p>
                         <div class="max-w-3xl mx-auto">
                            <canvas id="financial-chart"></canvas>
                         </div>
                    </div>

                    <!-- Accordion Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    Key Financial "Add-Backs"
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                    <div class="p-4 border-t border-gray-200">
                                        <ul class="detail-list">
                                            <li><strong>Owner's Salary & Perks:</strong><span>$450,000</span></li>
                                            <li><strong>Excess Family Salaries:</strong><span>$200,000</span></li>
                                            <li><strong>One-Time Legal Fees:</strong><span>$150,000</span></li>
                                            <li class="text-red-600"><strong>Rent Normalization (Negative):</strong><span>($400,000)</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    Balance Sheet & Working Capital
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                    <div class="p-4 border-t border-gray-200">
                                        <ul class="detail-list">
                                            <li><strong>NWC Target:</strong><span>$4,500,000</span></li>
                                            <li><strong>A/R Concern:</strong><span>15% of receivables are over 90 days, tying up cash.</span></li>
                                            <li><strong>Obsolete Inventory:</strong><span>~$200k of stock is slow-moving.</span></li>
                                            <li><strong>Debt:</strong><span>~$4.25M total between LOC and equipment loans.</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Operational Details Tab -->
            <div id="operational-details" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Operational Deep Dive</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Management & Workforce Column -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-bold text-gray-700 text-center">Management & Workforce</h3>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>Leadership Team</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Highly experienced (15yr avg tenure) but lacks a succession plan for the GM (retiring in 3-5 yrs) and strategic vision for innovation.</div></div>
                            </div>

                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>Owner Dependence</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Owner is the primary relationship holder for critical banking and bonding capacity.</div></div>
                            </div>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2" /></svg>Skilled Labor</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Faces industry-wide shortage of skilled technicians, limiting growth and driving up labor costs.</div></div>
                            </div>

                             <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>Company Culture</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Strong but traditional ("the way we've always done it"), with internal resistance to new technologies.</div></div>
                            </div>
                        </div>

                        <!-- Operational Inefficiencies Column -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-bold text-gray-700 text-center">Operational Inefficiencies</h3>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>Technology Stack</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Uses a legacy project management system that doesn't integrate with modern accounting/CRM, leading to manual data entry and errors.</div></div>
                            </div>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>Fleet Management</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Vehicle fleet is aging, with rising maintenance costs and poor fuel efficiency. A replacement program is overdue.</div></div>
                            </div>

                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>Proprietary Processes</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Effective installation techniques are not well-documented and exist as institutional knowledge, creating risk.</div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Market Dynamics Tab -->
            <div id="market-dynamics" class="tab-content">
                 <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Market & Competitive Landscape</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Market Landscape Column -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-bold text-gray-700 text-center">Market Landscape</h3>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>Market Trends</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">The company is slow to adopt energy-efficient/smart building tech, creating risk of being outpaced by innovative competitors.</div></div>
                            </div>

                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2" /></svg>Regulatory Environment</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Compliant with increasing regulations but not a leader, adding to overhead.</div></div>
                            </div>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" /></svg>Competitive Weakness</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">Sales and marketing are entirely passive and reliant on existing relationships. No formal business development team.</div></div>
                            </div>
                        </div>

                        <!-- Direct Competitors Column -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-bold text-gray-700 text-center">Direct Competitors</h3>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6-4a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>"Southwest Mechanical"</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">A large, PE-backed competitor that is aggressively expanding and leveraging technology.</div></div>
                            </div>
                            
                            <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>"High Desert Plumbing & HVAC"</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">A smaller, respected firm that wins mid-sized projects with strong local ties and lower overhead.</div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Value Drivers Tab -->
            <div id="value-drivers" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Key Value Drivers</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Core Strengths Column -->
                        <div class="space-y-6">
                            <h3 class="text-xl font-bold text-gray-700 text-center">Core Strengths</h3>
                            <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Reputation & Track Record</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">A 45-year history of excellence and successfully delivering large, complex, multi-state projects.</p>
                                    </div>
                                </div>
                            </div>
                             <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Project Backlog</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">An $88M backlog of contracted work provides strong revenue visibility for the next 18-24 months.</p>
                                    </div>
                                </div>
                            </div>
                             <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Experienced Leadership</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">A seasoned, loyal, and autonomous leadership team with an average tenure of 15 years.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Customer & Market Position Column -->
                        <div class="space-y-6">
                             <h3 class="text-xl font-bold text-gray-700 text-center">Customer & Market Position</h3>
                            <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.085a2 2 0 00-1.736.97l-2.714 5.428a2 2 0 001.736 2.97h4.618a2 2 0 002-2v-1.382z" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Client Relationships</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">Near-100% repeat business rate from its core clients, reflecting deep trust and consistent execution.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Competitive Moat</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">Multi-state footprint and a high bonding capacity create significant advantages over smaller, local competitors.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flip-card h-48 cursor-pointer">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front bg-red-50 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <div class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11l5-5m0 0l5 5m-5-5v12" /></svg>
                                            <h4 class="text-lg font-semibold text-red-800 mt-2">Scalability</h4>
                                        </div>
                                    </div>
                                    <div class="flip-card-back bg-red-100 p-6 rounded-lg shadow-lg flex items-center justify-center">
                                        <p class="text-red-700 text-center">Current operational infrastructure and systems are highly scalable, supporting growth without major new investment.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deal Structure & Opportunities Tab -->
            <div id="deal-structure" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Deal Structure & Opportunities</h2>
                    
                    <!-- Valuation Section -->
                    <div class="mb-12">
                        <h3 class="text-xl font-bold text-gray-700 text-center mb-6">Valuation Insights</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">
                                <h4 class="text-lg font-semibold text-red-700">Asking Price</h4>
                                <p class="text-4xl font-bold text-red-800 mt-2">$51,250,000</p>
                                <p class="text-sm text-red-600">(Includes $6.2M RE & $5.4M FF&E)</p>
                            </div>
                             <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">
                                <h4 class="text-lg font-semibold text-red-700">Implied Business Value</h4>
                                <p class="text-4xl font-bold text-red-800 mt-2">$39,650,000</p>
                                 <p class="text-sm text-red-600">Valuation Multiple: 4.64x on $8.54M Adj. EBITDA</p>
                            </div>
                        </div>
                        <div class="mt-6">
                             <div class="accordion-item bg-gray-50 rounded-lg">
                                <button class="accordion-header w-full text-left p-4 font-semibold text-gray-700 flex justify-between items-center hover:bg-gray-100">
                                    <span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>Intrinsic Value (DCF) Considerations</span>
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content"><div class="p-4 border-t border-gray-200 text-gray-600">
                                    <ul class="list-disc list-inside space-y-2">
                                        <li><strong>FCF Risk:</strong> Inflated by deferred CapEx on aging fleet & facilities.</li>
                                        <li><strong>WACC Risk:</strong> Increased by rising interest rates and private company risk.</li>
                                        <li><strong>TV Risk:</strong> Perpetual growth assumption is challenged by cyclical market.</li>
                                    </ul>
                                </div></div>
                            </div>
                        </div>
                    </div>

                    <!-- Deal Dynamics -->
                    <div class="mb-12">
                        <h3 class="text-xl font-bold text-gray-700 text-center mb-6">Deal Dynamics</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-gray-50 p-6 rounded-lg text-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                                <h4 class="font-semibold mt-2">Seller Financing</h4>
                                <p class="text-sm text-gray-600">Willing to hold a note up to 10% ($5.1M).</p>
                            </div>
                             <div class="bg-gray-50 p-6 rounded-lg text-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                <h4 class="font-semibold mt-2">Listing Duration</h4>
                                <p class="text-sm text-gray-600">Quietly shopped for 3 months; new to wider market.</p>
                            </div>
                             <div class="bg-gray-50 p-6 rounded-lg text-center">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-600 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" /></svg>
                                <h4 class="font-semibold mt-2">Target Buyers</h4>
                                <p class="text-sm text-gray-600">Well-capitalized firms with industry experience.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Growth vs Risks -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 text-center mb-6">The Path Forward: Growth vs. Risks</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-green-50 border border-green-200 p-6 rounded-lg">
                                <h4 class="text-lg font-semibold text-green-800 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>Stated Growth Opportunities</h4>
                                <ul class="mt-4 space-y-2 list-disc list-inside text-green-700">
                                    <li><strong>Texas Expansion:</strong> Logical but capital-intensive ($3M-$5M est.).</li>
                                    <li><strong>Hospitality Sector:</strong> Has experience, but market is highly cyclical.</li>
                                    <li><strong>Smart Building/Tech Division:</strong> Significant opportunity but requires hiring new talent.</li>
                                </ul>
                            </div>
                             <div class="bg-red-50 border border-red-200 p-6 rounded-lg">
                                <h4 class="text-lg font-semibold text-red-800 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>Legitimate Buyer Concerns & Risks</h4>
                                <ul class="mt-4 space-y-2 list-disc list-inside text-red-700">
                                    <li><strong>Key Personnel Risk:</strong> GM retirement, owner's role in banking/bonding.</li>
                                    <li><strong>Deferred CapEx:</strong> Immediate spending required for fleet/facilities.</li>
                                    <li><strong>Technological Lag:</strong> Legacy software hinders efficiency.</li>
                                    <li><strong>Margin Compression:</strong> Reliance on fixed-price contracts is risky.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Identity Modal -->
    <div id="identity-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-white rounded-lg shadow-2xl p-8 max-w-2xl w-full transform -translate-y-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Core Business Identity</h2>
            <ul class="detail-list space-y-3">
                <li><strong>Business Name:</strong><span>Johnson & Sons Heating, Plumbing, & Air</span></li>
                <li><strong>Industry/Business Type:</strong><span>Specialty Trade Contractor</span></li>
                <li><strong>Product/Service Niche:</strong><span>Commercial, industrial, and institutional HVAC and plumbing installation for large-scale new construction projects.</span></li>
                <li><strong>Business Model:</strong><span>B2B, project-based.</span></li>
                <li><strong>Years in Operation:</strong><span>45 years (Founded in 1979).</span></li>
            </ul>
            <button class="close-modal mt-6 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">Close</button>
        </div>
    </div>

    <!-- Structure Modal -->
    <div id="structure-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-white rounded-lg shadow-2xl p-8 max-w-2xl w-full transform -translate-y-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Physical & Operational Structure</h2>
            <ul class="detail-list space-y-3">
                <li><strong>Physical Premises:</strong><span>Owns three facilities (75,000 sq ft total) in Phoenix, Salt Lake City, and Denver. Satellite offices show deferred maintenance needing ~$250k in capital improvements.</span></li>
                <li><strong>General Location Type:</strong><span>Industrial parks with good highway access.</span></li>
            </ul>
            <button class="close-modal mt-6 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">Close</button>
        </div>
    </div>

    <!-- Story Modal -->
    <div id="story-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-white rounded-lg shadow-2xl p-8 max-w-2xl w-full transform -translate-y-10">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Personal Story & Context</h2>
            <ul class="detail-list space-y-3">
                <li><strong>Founder's Story:</strong><span>Mr. Johnson Sr. started the company in 1979 with a single truck and a commitment to quality workmanship. He built the business on handshakes and a reputation for always finishing a job on time and on budget.</span></li>
                <li><strong>Generational Transition:</strong><span>The "Sons" in the name, Mark and David, took over in the late 90s. David, the current owner, bought out his brother 10 years ago and continued the company's growth trajectory, expanding into two new states.</span></li>
                <li><strong>Motivation for Sale:</strong><span>At 64, David is ready to retire. With no third generation interested in taking over the demanding construction trade, his primary motivation is to find a successor who will protect his father's legacy, take care of the long-tenured employees, and continue serving the clients who have become like family.</span></li>
            </ul>
            <button class="close-modal mt-6 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">Close</button>
        </div>
    </div>


    <!-- Footer Placeholder -->
    <footer id="footer-placeholder"></footer>

    <!-- 
    /-------------------\
    |      SCRIPTS      |
    \-------------------/
    -->
    <script>
        /**
         * Fetches and injects the header and footer, then initializes interactive components.
         */
        async function loadComponents() {
            try {
                const [headerResponse, footerResponse] = await Promise.all([
                    fetch("../../header.html"),
                    fetch("../../footer.html")
                ]);

                if (!headerResponse.ok) throw new Error('Header failed to load.');
                if (!footerResponse.ok) throw new Error('Footer failed to load.');

                const headerData = await headerResponse.text();
                const footerData = await footerResponse.text();
                
                document.querySelector("#header-placeholder").innerHTML = headerData;
                document.querySelector("#footer-placeholder").innerHTML = footerData;

                // --- INITIALIZE DYNAMIC COMPONENTS ---
                initializeMobileMenu();
                setActiveNavLinks();

            } catch (error) {
                console.error('Error loading components:', error);
                document.querySelector("#header-placeholder").innerHTML = '<div class="bg-gray-800 text-white p-4 text-center">Header could not be loaded.</div>';
                document.querySelector("#footer-placeholder").innerHTML = '<div class="bg-gray-800 text-white p-4 text-center">Footer could not be loaded.</div>';
            }
        }
        
        /**
         * Initializes the mobile menu toggle functionality.
         */
        function initializeMobileMenu() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (menuButton && mobileMenu) {
                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    const isExpanded = menuButton.getAttribute('aria-expanded') === 'true';
                    menuButton.setAttribute('aria-expanded', !isExpanded);
                });
            }
        }

        /**
         * Sets the active style for navigation links based on the current URL.
         */
        function setActiveNavLinks() {
            const currentUrl = window.location.href;
            const navLinks = document.querySelectorAll('nav a'); 

            const linkPaths = {
                'case-studies': 'ExitReadyAdvisors/case-studies/',
                'services.html': 'ExitReadyAdvisors/services.html',
                'about.html': 'ExitReadyAdvisors/about.html'
            };

            for (const link of navLinks) {
                const href = link.getAttribute('href');
                for (const key in linkPaths) {
                    if (href && href.includes(key) && currentUrl.includes(linkPaths[key])) {
                        link.classList.add('bg-gray-900', 'text-white');
                        link.classList.remove('text-gray-500'); 
                    }
                }
            }
        }
        
        /**
         * Adjusts the font size of all tabs to be uniform and fit the content.
         */
        function adjustTabFontSize() {
            const tabButtons = document.querySelectorAll('.tab-button');
            if (!tabButtons.length) return;

            let smallestOptimalSize = 100; // Start with a large number

            tabButtons.forEach(button => {
                // Reset font size to calculate fresh
                button.style.fontSize = ''; 

                let currentFontSize = 16; // Start with a reasonable max size (in px)
                button.style.fontSize = currentFontSize + 'px';

                // Decrease font size until content fits within the button's bounds
                // It checks both scrollHeight and scrollWidth to handle text wrapping
                while ((button.scrollHeight > button.clientHeight || button.scrollWidth > button.clientWidth) && currentFontSize > 8) { // Set a minimum font size of 8px
                    currentFontSize -= 0.5;
                    button.style.fontSize = currentFontSize + 'px';
                }
                
                // Keep track of the smallest font size that fits across all tabs
                if (currentFontSize < smallestOptimalSize) {
                    smallestOptimalSize = currentFontSize;
                }
            });

            // Apply the determined smallest font size to all tabs for uniformity
            tabButtons.forEach(button => {
                button.style.fontSize = smallestOptimalSize + 'px';
            });
        }

        /**
         * Initializes page animations and tab functionality on content load.
         */
        document.addEventListener('DOMContentLoaded', () => {
            // Load header and footer first
            loadComponents().then(() => {
                // Adjust tab font sizes after components are loaded
                adjustTabFontSize();
            });

            // Make the main content visible with a fade-in effect
            const page = document.getElementById('page-baseline-analysis');
            if (page) {
                page.style.display = 'block';
                page.classList.add('fade-in');
            }

            // Set up tab functionality
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            let currentTabIndex = 0;
            let chart = null; // To hold the chart instance

            function updateTabState(newIndex) {
                // Update current index
                currentTabIndex = newIndex;

                // Update tab buttons
                tabButtons.forEach((btn, index) => {
                    btn.classList.toggle('active', index === newIndex);
                });

                // Update tab content
                tabContents.forEach((content, index) => {
                    content.classList.toggle('active', index === newIndex);
                });

                // If the financial health tab is now active, create the chart
                if (tabButtons[newIndex].dataset.tab === 'financial-health' && !chart) {
                    createFinancialChart();
                }
            }

            // Add click listeners to tab buttons
            tabButtons.forEach((button, index) => {
                button.addEventListener('click', () => {
                    updateTabState(index);
                });
            });

            // Initialize the first tab state
            updateTabState(0);

            // Add a resize listener to re-calculate font sizes on window resize
            window.addEventListener('resize', adjustTabFontSize);

            // Modal functionality
            const cards = document.querySelectorAll('.interactive-card');
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const modalId = card.dataset.modal;
                    const modal = document.getElementById(modalId);
                    modal.classList.remove('opacity-0', 'pointer-events-none');
                    modal.querySelector('.modal-content').classList.remove('-translate-y-10');
                });
            });

            const closeButtons = document.querySelectorAll('.close-modal');
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const modal = button.closest('.modal');
                    modal.classList.add('opacity-0', 'pointer-events-none');
                    modal.querySelector('.modal-content').classList.add('-translate-y-10');
                });
            });

            window.addEventListener('click', (event) => {
                if (event.target.classList.contains('modal')) {
                    event.target.classList.add('opacity-0', 'pointer-events-none');
                    event.target.querySelector('.modal-content').classList.add('-translate-y-10');
                }
            });

            // Accordion functionality
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('svg');
                    
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.classList.remove('rotate-180');
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    } 
                });
            });
            
            // Chart.js functionality
            function createFinancialChart() {
                const ctx = document.getElementById('financial-chart').getContext('2d');
                chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['2022', '2023', '2024 (TTM)'],
                        datasets: [{
                            label: 'Gross Revenue ($M)',
                            data: [65.2, 75.1, 68.85],
                            backgroundColor: 'rgba(239, 68, 68, 0.6)', // red-500 with opacity
                            borderColor: 'rgba(220, 38, 38, 1)', // red-600
                            borderWidth: 1
                        }, {
                            label: 'Adjusted EBITDA ($M)',
                            data: [7.8, 9.2, 8.54],
                            backgroundColor: 'rgba(153, 27, 27, 0.6)', // red-800 with opacity
                            borderColor: 'rgba(127, 29, 29, 1)', // red-900
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value + 'M';
                                    }
                                }
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += '$' + context.parsed.y + 'M';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Flip card functionality
            const flipCards = document.querySelectorAll('.flip-card');
            flipCards.forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('flipped');
                });
            });

        });
    </script>

</body>
</html>
